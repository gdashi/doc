{
    "name":"无线定位接口文档",
    "desc":"本文档是用来描述无线定位的接口信息，包括地图微服务，和终端坐标微服务",
    "author":"yuanyuekun",
    "aggregate":[
        {
             "name":"地图管理",
             "desc":"用来管理用户上传地图的微服务",
             "items":[
                 {
                      "name":"添加地图",
                      "desc":"WEB向地图微服务添加地图信息接口",
                      "author":"yuanyuekun",
                      "path": "/v3/wloc",
                      "method":"POST",
                      "return" :{"retCode":"0表示成功，非0表示失败","errorMessage":"错误信息用来调试"},
                      "params":[
                         {
                             "name":"desSN",
                             "description":"当前设备的序列号,内容为字符串"
                          },
                          {
                             "name":"Method",
                             "description":"addmapwithindex,标示添加地图操作"
                          },
                          {
                             "name":"Param",
                             "description":"添加地图的具体信息，是一个结构{devSN://设备的devSN, mapName://添加的地图的名字}"
                          }
                      ],
                      "errors":[
                         {
                             "name":"0",
                             "description":"添加成功"
                          },
                          {
                             "name":"-1",
                             "description":"添加失败"
                          }
                      ]
                  }
             ]
        },
        {
             "name":"地图管理",
             "desc":"用来管理用户上传地图的微服务",
             "items":[
                 {
                      "name":"获取地图",
                      "desc":"WEB向地图微服务获取地图信息接口",
                      "author":"yuanyuekun",
                      "path": "/v3/wloc",
                      "method":"POST",
                      "return" :{"data" : {"maplist":[
                      {
                        "mapName":"地图名字,类型为字符串",
                        "scale":"地图的比例尺信息，类型数字",
                        "apList":[
                        {
                            "macAddr":"ap的mac地址，类型字符串",
                            "apName":"ap的名字，类型字符串",
                            "XCord":"ap的x坐标，类型数字",
                            "YCord":"ap的y坐标，类型数字",
                            "status":"ap的状态，类型数字，1在线，2不在线"
                        }
                        ]
                      }
                      ]}},
                      "params":[
                         {
                             "name":"desSN",
                             "description":"当前设备的序列号,内容为字符串"
                          },
                          {
                             "name":"Method",
                             "description":"GetMap,标示获取地图操作"
                           },
                           {
                             "name":"Param",
                             "description":"{devSN://设备的devSN}"
                           },
                           {
                             "name":"Return",
                             "description":"微服务需要返回哪些字段，[mapName, scale, wallList, apList, bgInfo]"
                           }
                      ],
                      "errors":[
                         {
                             "name":"0",
                             "description":"添加成功"
                          },
                          {
                             "name":"-1",
                             "description":"添加失败"
                          }
                      ]
                  }
             ]
        },
        {
             "name":"地图管理",
             "desc":"用来管理用户上传地图的微服务",
             "items":[
                 {
                      "name":"删除地图",
                      "desc":"WEB向地图微服务删除地图信息接口",
                      "author":"yuanyuekun",
                      "path": "/v3/wloc/delMapAndDir",
                      "method":"POST",
                      "return" :{"retCode":"错误码，类型数字 0表示成功 -1表示失败"},
                      "params":[
                         {
                             "name":"desSN",
                             "description":"当前设备的序列号,内容为字符串"
                          },
                          {
                             "name":"Method",
                             "description":"delMapFile,标示获取地图操作"
                           },
                           {
                             "name":"Param",
                             "description":"{devSN://设备的devSN,mapName://删除地图的名字}"
                           }
                      ],
                      "errors":[
                         {
                             "name":"0",
                             "description":"删除成功"
                          },
                          {
                             "name":"-1",
                             "description":"删除失败"
                          }
                      ]
                  }
             ]
        },
        {
             "name":"地图管理",
             "desc":"用来管理用户上传地图的微服务",
             "items":[
                 {
                      "name":"设备获取地图信息",
                      "desc":"设备向微服务请求地图信息接口",
                      "author":"yuanyuekun",
                      "path": "/v3/wloc_map",
                      "method":"POST",
                      "return" :{"optType":"13表示获取地图信息",
                                 "uuid":"string",
                                 "devSN":"设备序列号",
                                 "cloudModName":"wloc_map",
                                 "devModName":"wloc",
                                 "message":{
                                     "end":"类型为数字，0表示还有应答消息，1表示最后一个地图信息",
                                     "apList":[{
                                         "apMac":"类型字符串，ap的mac地址",
                                         "XCord":"类型数字，ap的x坐标",
                                         "YCord":"类型数字，ap的y坐标"
                                     }
                                     ]
                                 }
                                },
                      "params":[
                         {
                             "name":"optType",
                             "description":"微服务根据这个字段来区分设备过来的消息类型，11表示请求所有地图，12表示请求未下发的地图"
                          },
                          {
                             "name":"uuid",
                             "description":"设备上送的随机值，微服务不关心"
                           },
                           {
                             "name":"devSN",
                             "description":"设备的序列号"
                           },
                           {
                             "name":"cloudModName",
                             "description":"微服务的名字必须填成wloc_map"
                           },
                          {
                            "name":"devModName",
                            "description":"设备端模块名必须填成wloc"
                          }
                      ],
                      "errors":[
                         {
                             "name":"0",
                             "description":"删除成功"
                          },
                          {
                             "name":"-1",
                             "description":"删除失败"
                          }
                      ]
                  }
             ]
        },
        {
             "name":"cupid定位数据管理",
             "desc":"用来管理设备上报的cupid定位数据的微服务",
             "items":[
                 {
                      "name":"获取终端坐标",
                      "desc":"获取实时的cupid定位的终端坐标",
                      "author":"yuanyuekun",
                      "path": "v3/wloc_clientread",
                      "method":"POST",
                      "return" :{"result":[{"clientMac":"类型为字符串，终端的mac地址",
                                            "XCord":"类型为数字，终端的x坐标",
                                            "YCord":"类型为数字，终端的y坐标",
                                            "clientStatus":"类型为数字，1表示在线终端，0表示不在线终端"
                                            }],
                                 "retCode":"错误码，0表示成功 -1表示失败"
                                },
                      "params":[
                         {
                             "name":"devSN",
                             "description":"设备序列号"
                          },
                          {
                             "name":"Method",
                             "description":"固定字段，getClientSite，微服务用来区分前端消息"
                           },
                           {
                             "name":"Param",
                             "description":{"devSN": "类型字符串 设备序列号", "mapName": "类型字符串，地图名", "time": "类型数字，获取time这个时间点的定位信息"}
                           },
                           {
                             "name":"result",
                             "description":["clientMac", "XCord", "YCord", "clientStatus"]
                           }
                      ],
                      "errors":[
                         {
                             "name":"0",
                             "description":"获取坐标信息成功"
                          },
                          {
                             "name":"-1",
                             "description":"获取坐标信息失败"
                          }
                      ]
                  }
             ]
        },
          {
                 "name":"cupid定位数据管理",
                 "desc":"用来管理设备上报的cupid定位数据的微服务",
                 "items":[
                     {
                          "name":"获取终端列表",
                          "desc":"获取实时的cupid定位的终端列表",
                          "author":"yuanyuekun",
                          "path": "v3/wloc_clientread",
                          "method":"POST",
                          "return" :{"result":[{"clientMac":"类型为字符串，终端的mac地址"}],
                                     "retCode":"错误码，0表示成功 -1表示失败"
                                    },
                          "params":[
                             {
                                 "name":"devSN",
                                 "description":"设备序列号"
                              },
                              {
                                 "name":"Method",
                                 "description":"固定字段，getClientList，微服务用来区分前端消息"
                               },
                               {
                                 "name":"Param",
                                 "description":{"devSN": "类型字符串，设备序列号", "mapName": "类型字符串，地图名", "startTime": "类型数字，起始时间", "endTime":"类型数字，终止时间"}
                               },
                               {
                                 "name":"result",
                                 "description":["clientMac"]
                               }
                          ],
                          "errors":[
                             {
                                 "name":"0",
                                 "description":"获取终端列表成功"
                              },
                              {
                                 "name":"-1",
                                 "description":"获取终端列表失败"
                              }
                          ]
                      }
                 ]
            },
              {
                     "name":"cupid定位数据管理",
                     "desc":"用来管理设备上报的cupid定位数据的微服务",
                     "items":[
                         {
                              "name":"获取指定终端的定位信息",
                              "desc":"获取指定终端的一段时间类的定位信息",
                              "author":"yuanyuekun",
                              "path": "v3/wloc_clientread",
                              "method":"POST",
                              "return" :{"result":[{"time":"类型为数字，终端的上报",
                                                    "XCord":"类型为数字，终端的x坐标",
                                                    "YCord":"类型为数字，终端的y坐标",
                                                    "clientStatus":"类型为数字，1表示在线终端，0表示不在线终端"
                                                   }],
                                         "retCode":"错误码，0表示成功 -1表示失败"
                                        },

                              "params":[
                                 {
                                     "name":"devSN",
                                     "description":"设备序列号"
                                  },
                                  {
                                     "name":"Method",
                                     "description":"固定字段，getClientTrack，微服务用来区分前端消息"
                                   },
                                   {
                                     "name":"Param",
                                     "description":{"devSN": "类型字符串，设备序列号", "mapName": "类型字符串，地图名", "startTime": "类型数字，起始时间", "endTime":"类型数字，终止时间","intervalTime":"间隔时间"}
                                   },
                                   {
                                     "name":"result",
                                     "description":["time", "XCord", "YCord", "clientStatus"]
                                   }
                              ],
                              "errors":[
                                 {
                                     "name":"0",
                                     "description":"获取终端轨迹成功"
                                  },
                                  {
                                     "name":"-1",
                                     "description":"获取终端轨迹失败"
                                  }
                              ]
                          }
                     ]
                }


    ]
}
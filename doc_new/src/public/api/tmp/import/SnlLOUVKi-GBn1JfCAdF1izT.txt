{
    "name":"无线定位接口文档",
    "desc":"本文档是用来描述无线定位的接口信息，包括地图微服务，和终端坐标微服务",
    "author":"yuanyuekun",
    "aggregate":[
        {
             "name":"地图管理",
             "desc":"用来管理用户上传地图的微服务",
             "items":[
                 {
                      "name":"添加地图",
                      "desc":"WEB向地图微服务添加地图信息接口",
                      "author":"yuanyuekun",
                      "path": "/v3/wloc",
                      "method":"POST",
                      "return" :{"retCode":"0表示成功，非0表示失败","errorMessage":"错误信息用来调试"},
                      "params":[
                         {
                             "name":"desSN",
                             "description":"当前设备的序列号,内容为字符串"
                          },
                          {
                             "name":"Method",
                             "description":"addmapwithindex,标示添加地图操作"
                          },
                          {
                             "name":"Param",
                             "description":"添加地图的具体信息，是一个结构{devSN://设备的devSN, mapName://添加的地图的名字}"
                          }
                      ],
                      "errors":[
                         {
                             "name":"0",
                             "description":"添加成功"
                          },
                          {
                             "name":"-1",
                             "description":"添加失败"
                          }
                      ]
                  }
             ]
        },
        {
             "name":"地图管理",
             "desc":"用来管理用户上传地图的微服务",
             "items":[
                 {
                      "name":"获取地图",
                      "desc":"WEB向地图微服务获取地图信息接口",
                      "author":"yuanyuekun",
                      "path": "/v3/wloc",
                      "method":"POST",
                      "return" :{"data" : {"maplist":[
                      {
                        "mapName":"地图名字,类型为字符串",
                        "scale":"地图的比例尺信息，类型数字",
                        "apList":[
                        {
                            "macAddr":"ap的mac地址，类型字符串",
                            "apName":"ap的名字，类型字符串",
                            "XCord":"ap的x坐标，类型数字",
                            "YCord":"ap的y坐标，类型数字",
                            "status":"ap的状态，类型数字，1在线，2不在线"
                        }
                        ]
                      }
                      ]}},
                      "params":[
                         {
                             "name":"desSN",
                             "description":"当前设备的序列号,内容为字符串"
                          },
                          {
                             "name":"Method",
                             "description":"GetMap,标示获取地图操作"
                           },
                           {
                             "name":"Param",
                             "description":"{devSN://设备的devSN}"
                           },
                           {
                             "name":"Return",
                             "description":"微服务需要返回哪些字段，[mapName, scale, wallList, apList, bgInfo]"
                           }
                      ],
                      "errors":[
                         {
                             "name":"0",
                             "description":"添加成功"
                          },
                          {
                             "name":"-1",
                             "description":"添加失败"
                          }
                      ]
                  }
             ]
        },
        {
             "name":"地图管理",
             "desc":"用来管理用户上传地图的微服务",
             "items":[
                 {
                      "name":"删除地图",
                      "desc":"WEB向地图微服务删除地图信息接口",
                      "author":"yuanyuekun",
                      "path": "/v3/wloc/delMapAndDir",
                      "method":"POST",
                      "return" :{"retCode":"错误码，类型数字 0表示成功 -1表示失败"},
                      "params":[
                         {
                             "name":"desSN",
                             "description":"当前设备的序列号,内容为字符串"
                          },
                          {
                             "name":"Method",
                             "description":"delMapFile,标示获取地图操作"
                           },
                           {
                             "name":"Param",
                             "description":"{devSN://设备的devSN,mapName://删除地图的名字}"
                           }
                      ],
                      "errors":[
                         {
                             "name":"0",
                             "description":"删除成功"
                          },
                          {
                             "name":"-1",
                             "description":"删除失败"
                          }
                      ]
                  }
             ]
        },
        {
             "name":"地图管理",
             "desc":"用来管理用户上传地图的微服务",
             "items":[
                 {
                      "name":"设备获取地图信息",
                      "desc":"设备向微服务请求地图信息接口",
                      "author":"yuanyuekun",
                      "path": "/v3/wloc_map",
                      "method":"POST",
                      "return" :{"optType":"错误码，类型数字 0表示成功 -1表示失败",
                                 "uuid":"string",
                                 "devSN":"设备序列号",
                                 "cloudModName":"wloc_map",
                                 "devModName":"wloc",
                                 "message":{
                                     "end":"类型为数字，0表示还有应答消息，1表示最后一个应答消息，如果这个字段为1，设备拆连接",
                                     "apList":[{
                                         "apMac":"类型字符串，ap的mac地址",
                                         "XCord":"类型数字，ap的x坐标",
                                         "YCord":"类型数字，ap的y坐标"
                                     }
                                     ]
                                 }
                                },
                      "params":[
                         {
                             "name":"optType",
                             "description":"微服务根据这个字段来区分设备过来的消息类型，11表示请求所有地图，12表示请求未下发的地图"
                          },
                          {
                             "name":"uuid",
                             "description":"设备上送的随机值，微服务不关心"
                           },
                           {
                             "name":"devSN",
                             "description":"设备的序列号"
                           },
                           {
                             "name":"cloudModName",
                             "description":"微服务的名字必须填成wloc_map"
                           },
                          {
                            "name":"devModName",
                            "description":"设备端模块名必须填成wloc"
                          }
                      ],
                      "errors":[
                         {
                             "name":"0",
                             "description":"删除成功"
                          },
                          {
                             "name":"-1",
                             "description":"删除失败"
                          }
                      ]
                  }
             ]
        }

    ]
}